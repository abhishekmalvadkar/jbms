<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Welcome</title>
    <style>
        body {
           font-family: magra, Tahoma, Arial;
           margin: 0;
        }
       .text-link {
           text-decoration: none;
           color: #303030;
       }
       .container {
           border: 1px solid;
           margin: 10px 10px;
           padding: 8px 8px;
           width: 200px;
           float: left;
           text-align: center;
       }
        .container:hover {
            background: red;
            color: #fff;
        }
        .logo {
            background : red;
            padding: 7px 7px;
        }
        .jbms-logo-title {
            font-size: 2em;
            font-weight: bold;
            text-decoration: none;
            color: #fff;
        }
        .jbms-logo-subtitle {
            font-size: 0.8em;
            color: #fff;
            font-weight: bold;
        }
        .m-15 {
            margin: 15px;
        }
    </style>
</head>
<div class="logo">
    <a class="jbms-logo-title" th:href="@{/}">JBMS</a><br>
    <span class="jbms-logo-subtitle">Manage bookmarks</span>
</div>

<div class="m-15">
    <a class="text-link container" th:href="@{/bookmarks}">
        <h2>Bookmarks</h2>
        <h3 id="bookmarkCounter"
            th:attr="data-target=${totalBookmarksCount}">0</h3>
    </a>

    <a class="text-link container" th:href="@{/tags}">
        <h2>Tags</h2>
        <h3 id="tagCounter"
            th:attr="data-target=${totalTagsCount}">0</h3>
    </a>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        // Function to animate any counter
        function animateCounter(counterId) {
            const el = document.getElementById(counterId);
            const target = +el.getAttribute("data-target");
            let count = 0;
            const duration = 1500; // total animation time (ms)
            const stepTime = Math.max(Math.floor(duration / target), 1);

            const timer = setInterval(() => {
                count++;
                el.textContent = count;
                if (count >= target) {
                    clearInterval(timer);
                    el.textContent = target; // ensure exact stop
                }
            }, stepTime);
        }

        // Animate both counters
        animateCounter("bookmarkCounter");
        animateCounter("tagCounter");
    });
</script>
</html>